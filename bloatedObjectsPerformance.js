const timer  = require('./util');

class BloatedObject {
	constructor(key) {
		this.next = null;
		this.prev = null;
		this.data0 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data1 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data2 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data3 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data4 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data5 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data6 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data7 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data8 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data9 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data10 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data11 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data12 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data13 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data14 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data15 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data16 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data17 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data18 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.key = key;
	}
}

class BloatedObjectKeyTop {
	constructor(key) {
		this.key = key;
		this.next = null;
		this.prev = null;
		this.data0 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data1 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data2 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data3 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data4 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data5 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data6 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data7 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data8 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data9 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data10 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data11 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data12 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data13 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data14 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data15 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data16 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data17 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data18 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
	}
}

class UnBloatedObjectValue {
	constructor() {
		this.data0 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data1 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data2 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data3 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data4 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data5 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data6 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data7 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data8 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data9 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data10 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data11 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data12 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data13 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data14 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data15 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data16 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data17 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
		this.data18 = {
			id: 0,
			desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)",
			moreData: {
				moreId: 0,
				desc: "This is just a text to add data and make the class bigger (although the length of the string will probably not affect it)"
			}
		};
	}
}

class UnBloatedObjectKey {
	constructor(key) {
		this.next = null;
		this.prev = null;
		this.key = key;
		this.data = new UnBloatedObjectValue();
	}
}

function addFakeDataBloated() {
	let head = new BloatedObject(-66);
	let currParent = head;
	let newNode;
	for (i = 0; i < 200000; i++) {
		newNode = new BloatedObject(i);
		newNode.prev = currParent;
		currParent.next = newNode;
		currParent = newNode;
	}
	return head;
}

function addFakeDataBloatedKeyTop() {
	let head = new BloatedObjectKeyTop(-66);
	let currParent = head;
	let newNode;
	for (i = 0; i < 200000; i++) {
		newNode = new BloatedObjectKeyTop(i);
		newNode.prev = currParent;
		currParent.next = newNode;
		currParent = newNode;
	}
	return head;
}

function addFakeDataUnbloated() {
	let head = new UnBloatedObjectKey(-66);
	let currParent = head;
	let newNode;
	for (i = 0; i < 200000; i++) {
		newNode = new UnBloatedObjectKey(i);
		newNode.prev = currParent;
		currParent.next = newNode;
		currParent = newNode;
	}
	return head;
}

const headBloated = addFakeDataBloated();
timer.clearTimer();
timer.tic();
let curNode = headBloated;
for (i = 0; i < 200000; i++) {
	if (curNode.key == 190000) {
		break;
	}
	curNode = curNode.next;
}
console.log("FOUND!", curNode.key);
console.log("Bloated time:", timer.toc(), "ms");

const headBloatedKeyTop = addFakeDataBloatedKeyTop();
timer.clearTimer();
timer.tic();
curNode = headBloatedKeyTop;
for (i = 0; i < 200000; i++) {
	if (curNode.key == 190000) {
		break;
	}
	curNode = curNode.next;
}
console.log("FOUND!", curNode.key);
console.log("Bloated Key Top time:", timer.toc(), "ms");

const headUnbloated = addFakeDataUnbloated();
timer.clearTimer();
timer.tic();
curNode = headUnbloated;
for (i = 0; i < 200000; i++) {
	if (curNode.key == 190000) {
		break;
	}
	curNode = curNode.next;
}
console.log("FOUND!", curNode.key);
console.log("Unbloated time:", timer.toc(), "ms");




